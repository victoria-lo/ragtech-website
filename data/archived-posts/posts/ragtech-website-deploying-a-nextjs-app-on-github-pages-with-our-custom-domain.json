{
  "id": "66c080d76e952b8dd47e8f94",
  "title": "üñ•Ô∏è ragTech Website: Deploying a Next.js App on GitHub Pages With Our Custom Domain",
  "brief": "Hello, and welcome to ragTech's blog, where we engage in bytes and banter --- not on screen or microphone, but on text! üìù\nIf this is your first time seeing anything from us, we are a team of three techies, Victoria Lo , Natasha Ann and Saloni Kaur ,...",
  "slug": "ragtech-website-deploying-a-nextjs-app-on-github-pages-with-our-custom-domain",
  "coverImage": {
    "url": "https://cdn.hashnode.com/res/hashnode/image/upload/v1723891644857/1edeb26a-ec4d-4d25-ac73-e1b05a3a8fc8.png"
  },
  "publishedAt": "2024-08-17T10:52:07.420Z",
  "readTimeInMinutes": 10,
  "author": {
    "name": "Natasha Ann",
    "profilePicture": "https://cdn.hashnode.com/res/hashnode/image/upload/v1723888613863/CVbEFXQ8O.png"
  },
  "content": {
    "html": "<p>Hello, and welcome to ragTech's blog, where we engage in bytes and banter --- not on screen or microphone, but on text! üìù</p>\n<p>If this is your first time seeing anything from us, we are a team of three techies, <a class=\"user-mention\" href=\"https://hashnode.com/@victoria\">Victoria Lo</a> , <a class=\"user-mention\" href=\"https://hashnode.com/@natashaannn\">Natasha Ann</a> and <a class=\"user-mention\" href=\"https://hashnode.com/@missa\">Saloni Kaur</a> , who came together to create a tech podcast show to talk about the realities of life in tech in a relatable and authentic manner.</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723891696204/c537860b-1f9e-4962-8c35-2318056b65b6.png\" alt class=\"image--center mx-auto\" /></p>\n<p>Our episodes are available to watch on video on YouTube; on audio on Spotify, Apple Music and Amazon Music; and we also have our socials on Instagram, Tiktok and LinkedIn! Links are at the end of this article üíö</p>\n<h2 id=\"heading-so-youre-creating-a-website\">So... You're Creating a Website?</h2>\n<p>As part of branding review efforts that our team has embarked on, we've been wanting to create our own website for awhile now. This will help lend credibility to our brand name, and allow for a space to help friends of ragTech (yes, you!) find us, keep updated on our shenanigans, and explore our show on our various platforms and socials better.</p>\n<p>In the spirit of sharing about everything and anything tech, we're also detailing our exact process in creating our website, just in case anybody wants to follow along! It's also great for our personal documentation purposes, so that's two birds with one stone! üê¶üê¶ü™®</p>\n<h1 id=\"heading-our-considerations\">üß† Our Considerations...</h1>\n<p>Our main considerations in building out our website were:</p>\n<ol>\n<li><p><strong>Cheap</strong>: Costs us practically nothing to create as we aren't earning any money and costs are out of pocket from us...</p>\n</li>\n<li><p><strong>Collaborative</strong>: All three of us can work on any part of it easily, and the stack is familiar to us!</p>\n</li>\n<li><p><strong>Customizable and Flexible</strong>: We can easily customize pages and functionality relevant to our tech show needs, which might have unique functionality that requires some logic. While our website right now will generally be a static site and rather simple, we want to cater for potential for it to become a little bit more complex and dynamic in the future as our community grows!</p>\n</li>\n<li><p><strong>Compatible</strong>: We're already using Hashnode for our blog, and would want a stack that can easily use Hashnode's API to fetch our blog posts without needing to migrate to a new platform.</p>\n</li>\n</ol>\n<p>For these three reasons, we've decided on the following tech stack relevant to this initial setup:</p>\n<ul>\n<li><p><strong>Web Development Framework</strong>: Next.js</p>\n</li>\n<li><p><strong>Code Collaboration</strong>: GitHub, with a team repository</p>\n</li>\n<li><p><strong>Deployment</strong>: GitHub Pages</p>\n</li>\n</ul>\n<h2 id=\"heading-isnt-nextjs-overkill-for-a-static-site\">Isn't Next.js Overkill for a Static Site?</h2>\n<p>Not really, with its newest release! Next.js offers both Static Site Generation (SSG) and Server-Side Rendering (SSR), which you can easily choose based on your needs.</p>\n<p>With Static Site Generation (SSG), the page is pre-rendered during build time, before it is deployed to be seen by the world. With Server-Side Rendering (SSR), the page is pre-rendered upon each new request and updated frequently.</p>\n<p>Not only does Next.js offer both implementations, it <a target=\"_blank\" href=\"https://nextjs.org/docs/pages/building-your-application/rendering/automatic-static-optimization\">automatically determines if a page is static</a> and renders and optimizes it accordingly. Within the same app, you can have some pages that implement SSG, and some pages that enable SSR - all automatically optimized by Next.js!</p>\n<p>As mentioned above in our considerations, we want to have the flexibility to customize our website as it grows, and that includes catering for the potential for more dynamic website functionality in the future. With Next.js, we can primarily use Static Site Generation (SSG), and later on if the need calls for it, use Server-Side Rendering (SSR)!</p>\n<h2 id=\"heading-why-github-pages-for-deployment\">Why GitHub Pages for Deployment?</h2>\n<p>We were initially considering Vercel, a cloud platform for static sites, for deployment instead of GitHub Pages due to its ease of integration with GitHub and Next.js (especially since the team at Vercel also created Next.js).</p>\n<p>However, while it is free to use for personal projects in personal repositories, we would have to purchase Vercel Pro in order to deploy our team projects.</p>\n<p>In light of this, GitHub Pages surfaced as another option for us to consider as a free static site hosting service, since we were already using GitHub to collaborate on our code.</p>\n<p>GitHub Pages, however, is designed to serve static sites in HTML, CSS and Javascript, so we knew we would have to use some workarounds in order to deploy our Next.js application onto it.</p>\n<p>Henceforth, this walkthrough's highlight is detailing how we worked around these limitations to achieve the best of both worlds - of using a team repository for GitHub for our project, while being able to deploy our project for free on GitHub Pages!</p>\n<h1 id=\"heading-pre-installation-requirements\">Pre-installation Requirements</h1>\n<p>These were the pre-installation requirements we started out with. In general, it's great to start out with the latest versions for new projects, so that's what we did here. If you are following this walkthrough and do not have the same pre-install requirements, feel free to click on the links to each requirement below to find out how to set it up on your environment!</p>\n<ul>\n<li><p><a target=\"_blank\" href=\"https://nodejs.org/en/download/prebuilt-installer\">Node</a>: v20.16.0</p>\n</li>\n<li><p><a target=\"_blank\" href=\"https://docs.npmjs.com/try-the-latest-stable-version-of-npm\">npm</a>: 10.8.1</p>\n</li>\n</ul>\n<h1 id=\"heading-creating-our-nextjs-app\">Creating Our Next.js App</h1>\n<h2 id=\"heading-using-create-next-app\">Using <code>create-next-app</code></h2>\n<pre><code class=\"lang-bash\">npx create-next-app@latest\n</code></pre>\n<p>Using <a target=\"_blank\" href=\"https://nextjs.org/docs/pages/api-reference/create-next-app\"><code>create-next-app</code></a>, we first created a new Next.js application with the <code>npx</code> NPM package runner (you can use any of your choice!). For simplicity, we used mostly the default configuration, including using:</p>\n<ul>\n<li><p>Typescript</p>\n</li>\n<li><p>ESLint</p>\n</li>\n<li><p>Tailwind CSS</p>\n</li>\n</ul>\n<h2 id=\"heading-running-our-development-server\">Running our Development Server</h2>\n<pre><code class=\"lang-bash\">npm run dev\n</code></pre>\n<p>Of course, to make sure everything is running well locally, we'll have to run it for the first time. Fortunately for us, the development server started up like a smooth engine and we were able to see the default Next.js landing page!</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723788200332/fe931e81-5071-4949-b001-80a8f370d0ef.png\" alt class=\"image--center mx-auto\" /></p>\n<h1 id=\"heading-setting-up-github-pages\">Setting up GitHub Pages</h1>\n<h2 id=\"heading-initializing-a-git-repository\">Initializing a Git Repository</h2>\n<pre><code class=\"lang-bash\">git init \ngit commit -m <span class=\"hljs-string\">\"chore: setup nextjs app\"</span>\ngit branch -M main\ngit remote add origin &lt;our origin&gt;\ngit push -u origin main\n</code></pre>\n<p>After initializing a git repository in our new Next.js app, we went ahead to create a remote repository on our team's organizational GitHub account, added it as our origin on our local git repository, and pushed our first commit!</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723787933545/eae22e50-21ab-424d-9925-69bc00a69998.png\" alt=\"ragTech website remote repository on GitHub\" class=\"image--center mx-auto\" /></p>\n<h2 id=\"heading-setting-up-our-custom-domain-with-github-pages\">Setting up our Custom Domain with GitHub Pages</h2>\n<p>As we had already previously purchased our domain 'ragtech.dev' from GoDaddy, we wanted to be able to use it for this website instead of the default GitHub domain. You can skip this step if you do not have your own domain and do not mind the default domain! Otherwise, you would have to purchase your own custom domain from domain name providers like GoDaddy.</p>\n<h3 id=\"heading-adding-our-custom-domain-to-our-website-repository\">Adding our Custom Domain to Our Website Repository</h3>\n<p>We first set our deployment source to deploy from our <code>main</code> branch. This will be our production branch that deploys directly to our live site, served by GitHub Pages!</p>\n<p>Next, we started configuring our custom domain, <strong>ragtech.dev</strong>. In order to pass the DNS checks, we had to configure our apex domain back on GoDaddy. In our case, we <a target=\"_blank\" href=\"https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain\">created <code>A</code> and <code>AAAA</code> records that point back to GitHub Pages' IP addresses</a>.</p>\n<p>After doing so, our DNS check was successful and we were able to enforce HTTPS on our site!</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723790281607/c5646b31-d448-4804-b5e9-f4d66c4b430b.png\" alt class=\"image--center mx-auto\" /></p>\n<h3 id=\"heading-verifying-our-domain-name-optional\">Verifying our Domain Name (Optional)</h3>\n<p>To <a target=\"_blank\" href=\"https://docs.github.com/en/organizations/managing-organization-settings/verifying-or-approving-a-domain-for-your-organization\">verify our domain</a> on GitHub Pages and eventually have a 'Verified' badge beside our website link on our GitHub organization repository home page, we had to go to our GitHub organizational account home page, and go to <em>Settings &gt; Pages &gt; Add a Verified Domain</em>.</p>\n<p>From there, we were prompted to setup our DNS configuration on GoDaddy so that our domain provider would recognize the GitHub Pages hostname for our site so that GitHub could verify that we owned the domain.</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723789125532/6cad5863-ad8a-4848-9db0-3ab117e312d1.png\" alt class=\"image--center mx-auto\" /></p>\n<h1 id=\"heading-configuring-github-pages-to-deploy-nextjs-app\">Configuring GitHub Pages to Deploy Next.js App</h1>\n<p>Right now, as GitHub Pages is designed to only serve static files (i.e. HTML, CSS, JavaScript), our site is only showing our README file when you navigate to the configured custom domain.</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723791489174/ce461ef4-0532-4c97-871f-a676697b4aac.png\" alt class=\"image--center mx-auto\" /></p>\n<h2 id=\"heading-configure-nextjs-build-process-for-github-pages\">Configure Next.js Build Process for GitHub Pages</h2>\n<p><a target=\"_blank\" href=\"https://www.freecodecamp.org/news/how-to-deploy-next-js-app-to-github-pages/\">Following this tutorial</a>, we overcame this limitation by configuring our Next.js app to generate static pages so that the build output will export static pages instead of a Node.js app.</p>\n<p>Navigating to our <code>next.config.mjs</code> file in the root directory of our Next.js app, we changed the configuration output to export static pages.</p>\n<pre><code class=\"lang-javascript\"><span class=\"hljs-comment\">//next.config.mjs or</span>\n<span class=\"hljs-comment\">/** <span class=\"hljs-doctag\">@type <span class=\"hljs-type\">{import('next').NextConfig}</span> </span>*/</span>\n<span class=\"hljs-keyword\">const</span> nextConfig = {\n  <span class=\"hljs-attr\">basePath</span>: <span class=\"hljs-string\">\"/ragtech-website\"</span>,\n  <span class=\"hljs-attr\">output</span>: <span class=\"hljs-string\">\"export\"</span>,  <span class=\"hljs-comment\">// &lt;=== enables static exports</span>\n  <span class=\"hljs-attr\">reactStrictMode</span>: <span class=\"hljs-literal\">true</span>,\n};\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> nextConfig;\n</code></pre>\n<p>After making this change, a folder directory named <code>out</code> will be exported on building the application, containing all the static assets in our app, which will be used to upload onto GitHub Pages.</p>\n<p>We also added a default base path to fix any issues with missing images that might surface on the site, due to GitHub Pages' way of publishing images and their subpaths in relation to the name of our repository.</p>\n<h2 id=\"heading-using-github-actions-to-deploy-our-nextjs-app\">Using GitHub Actions to Deploy our Next.js App</h2>\n<p>Going back to our GitHub Pages settings in our repository, we selected GitHub Actions to customize our build process for deployment instead of the standard GitHub Pages deployment, which as mentioned, only serves static pages.</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723792465206/0caeef16-df26-454b-a989-c81799c9bfae.png\" alt class=\"image--center mx-auto\" /></p>\n<p>On selecting GitHub Actions, we were immediately presented with the Next.js suggested workflow, which is a pre-written GitHub Actions workflow designed for Next.js deployment to GitHub Pages written by the team at GitHub Pages themselves!</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723792483526/fec592c9-d5e1-48c7-a926-c0e2d1291731.png\" alt class=\"image--center mx-auto\" /></p>\n<p>As can be seen in the code snippet below, the pre-written workflow contains steps to:</p>\n<ol>\n<li><p>Checkout the <code>main</code> branch</p>\n</li>\n<li><p>Detect the package manager</p>\n</li>\n<li><p>Setup Node</p>\n</li>\n<li><p>Setup Pages</p>\n</li>\n<li><p>Restore Cache</p>\n</li>\n<li><p>Install dependencies</p>\n</li>\n<li><p>Build with Next.js</p>\n</li>\n<li><p>Deploy to GitHub Pages</p>\n</li>\n</ol>\n<pre><code class=\"lang-yaml\"><span class=\"hljs-comment\"># Sample workflow for building and deploying a Next.js site to GitHub Pages</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-comment\"># To get started with Next.js see: https://nextjs.org/docs/getting-started</span>\n<span class=\"hljs-comment\">#</span>\n<span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Deploy</span> <span class=\"hljs-string\">Next.js</span> <span class=\"hljs-string\">site</span> <span class=\"hljs-string\">to</span> <span class=\"hljs-string\">Pages</span>\n\n<span class=\"hljs-attr\">on:</span>\n  <span class=\"hljs-comment\"># Runs on pushes targeting the default branch</span>\n  <span class=\"hljs-attr\">push:</span>\n    <span class=\"hljs-attr\">branches:</span> [<span class=\"hljs-string\">\"main\"</span>]\n\n  <span class=\"hljs-comment\"># Allows you to run this workflow manually from the Actions tab</span>\n  <span class=\"hljs-attr\">workflow_dispatch:</span>\n\n<span class=\"hljs-comment\"># Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages</span>\n<span class=\"hljs-attr\">permissions:</span>\n  <span class=\"hljs-attr\">contents:</span> <span class=\"hljs-string\">read</span>\n  <span class=\"hljs-attr\">pages:</span> <span class=\"hljs-string\">write</span>\n  <span class=\"hljs-attr\">id-token:</span> <span class=\"hljs-string\">write</span>\n\n<span class=\"hljs-comment\"># Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.</span>\n<span class=\"hljs-comment\"># However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.</span>\n<span class=\"hljs-attr\">concurrency:</span>\n  <span class=\"hljs-attr\">group:</span> <span class=\"hljs-string\">\"pages\"</span>\n  <span class=\"hljs-attr\">cancel-in-progress:</span> <span class=\"hljs-literal\">false</span>\n\n<span class=\"hljs-attr\">jobs:</span>\n  <span class=\"hljs-comment\"># Build job</span>\n  <span class=\"hljs-attr\">build:</span>\n    <span class=\"hljs-attr\">runs-on:</span> <span class=\"hljs-string\">ubuntu-latest</span>\n    <span class=\"hljs-attr\">steps:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Checkout</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/checkout@v4</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Detect</span> <span class=\"hljs-string\">package</span> <span class=\"hljs-string\">manager</span>\n        <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">detect-package-manager</span>\n        <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">|\n          if [ -f \"${{ github.workspace }}/yarn.lock\" ]; then\n            echo \"manager=yarn\" &gt;&gt; $GITHUB_OUTPUT\n            echo \"command=install\" &gt;&gt; $GITHUB_OUTPUT\n            echo \"runner=yarn\" &gt;&gt; $GITHUB_OUTPUT\n            exit 0\n          elif [ -f \"${{ github.workspace }}/package.json\" ]; then\n            echo \"manager=npm\" &gt;&gt; $GITHUB_OUTPUT\n            echo \"command=ci\" &gt;&gt; $GITHUB_OUTPUT\n            echo \"runner=npx --no-install\" &gt;&gt; $GITHUB_OUTPUT\n            exit 0\n          else\n            echo \"Unable to determine package manager\"\n            exit 1\n          fi\n</span>      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Setup</span> <span class=\"hljs-string\">Node</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/setup-node@v4</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-attr\">node-version:</span> <span class=\"hljs-string\">\"20\"</span>\n          <span class=\"hljs-attr\">cache:</span> <span class=\"hljs-string\">${{</span> <span class=\"hljs-string\">steps.detect-package-manager.outputs.manager</span> <span class=\"hljs-string\">}}</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Setup</span> <span class=\"hljs-string\">Pages</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/configure-pages@v5</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-comment\"># Automatically inject basePath in your Next.js configuration file and disable</span>\n          <span class=\"hljs-comment\"># server side image optimization (https://nextjs.org/docs/api-reference/next/image#unoptimized).</span>\n          <span class=\"hljs-comment\">#</span>\n          <span class=\"hljs-comment\"># You may remove this line if you want to manage the configuration yourself.</span>\n          <span class=\"hljs-attr\">static_site_generator:</span> <span class=\"hljs-string\">next</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Restore</span> <span class=\"hljs-string\">cache</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/cache@v4</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">|\n            .next/cache\n</span>          <span class=\"hljs-comment\"># Generate a new cache whenever packages or source files change.</span>\n          <span class=\"hljs-attr\">key:</span> <span class=\"hljs-string\">${{</span> <span class=\"hljs-string\">runner.os</span> <span class=\"hljs-string\">}}-nextjs-${{</span> <span class=\"hljs-string\">hashFiles('**/package-lock.json',</span> <span class=\"hljs-string\">'**/yarn.lock'</span><span class=\"hljs-string\">)</span> <span class=\"hljs-string\">}}-${{</span> <span class=\"hljs-string\">hashFiles('**.[jt]s',</span> <span class=\"hljs-string\">'**.[jt]sx'</span><span class=\"hljs-string\">)</span> <span class=\"hljs-string\">}}</span>\n          <span class=\"hljs-comment\"># If source files changed but packages didn't, rebuild from a prior cache.</span>\n          <span class=\"hljs-attr\">restore-keys:</span> <span class=\"hljs-string\">|\n            ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json', '**/yarn.lock') }}-\n</span>      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Install</span> <span class=\"hljs-string\">dependencies</span>\n        <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">${{</span> <span class=\"hljs-string\">steps.detect-package-manager.outputs.manager</span> <span class=\"hljs-string\">}}</span> <span class=\"hljs-string\">${{</span> <span class=\"hljs-string\">steps.detect-package-manager.outputs.command</span> <span class=\"hljs-string\">}}</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Build</span> <span class=\"hljs-string\">with</span> <span class=\"hljs-string\">Next.js</span>\n        <span class=\"hljs-attr\">run:</span> <span class=\"hljs-string\">${{</span> <span class=\"hljs-string\">steps.detect-package-manager.outputs.runner</span> <span class=\"hljs-string\">}}</span> <span class=\"hljs-string\">next</span> <span class=\"hljs-string\">build</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Upload</span> <span class=\"hljs-string\">artifact</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/upload-pages-artifact@v3</span>\n        <span class=\"hljs-attr\">with:</span>\n          <span class=\"hljs-attr\">path:</span> <span class=\"hljs-string\">./out</span>\n\n  <span class=\"hljs-comment\"># Deployment job</span>\n  <span class=\"hljs-attr\">deploy:</span>\n    <span class=\"hljs-attr\">environment:</span>\n      <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">github-pages</span>\n      <span class=\"hljs-attr\">url:</span> <span class=\"hljs-string\">${{</span> <span class=\"hljs-string\">steps.deployment.outputs.page_url</span> <span class=\"hljs-string\">}}</span>\n    <span class=\"hljs-attr\">runs-on:</span> <span class=\"hljs-string\">ubuntu-latest</span>\n    <span class=\"hljs-attr\">needs:</span> <span class=\"hljs-string\">build</span>\n    <span class=\"hljs-attr\">steps:</span>\n      <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">Deploy</span> <span class=\"hljs-string\">to</span> <span class=\"hljs-string\">GitHub</span> <span class=\"hljs-string\">Pages</span>\n        <span class=\"hljs-attr\">id:</span> <span class=\"hljs-string\">deployment</span>\n        <span class=\"hljs-attr\">uses:</span> <span class=\"hljs-string\">actions/deploy-pages@v4</span>\n</code></pre>\n<p>Once we commit this new workflow file to our GitHub repository, this will automatically trigger the new workflow to run in GitHub actions (since the workflow file was written to trigger on any committed changes on our <code>main</code> branch).</p>\n<p>After waiting for the build and deploy steps to run, our Next.js app was successfully deployed using GitHub Pages!</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723793768849/1131ae9d-a531-4a87-9875-6d35f5163015.png\" alt class=\"image--center mx-auto\" /></p>\n<p>On navigation to our custom domain, we could now see the same Next.js landing page that we saw on our local development server!</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1723793789766/950d32b0-5ffd-43d6-b7ac-ffe810ad1fab.png\" alt class=\"image--center mx-auto\" /></p>\n<h1 id=\"heading-conclusion\">Conclusion</h1>\n<p>That concludes the first part of the setup process of creating our ragTech website! In the following parts, we'll be slowly building out the various features in our website in our Next.js app, including integrating our existing Hashnode blog into our website, having an RSS feed of our audio podcast on our website, and showcasing our YouTube episodes.</p>\n<p>If you enjoyed this walkthrough, do like and comment on this blogpost and subscribe to our blog and newsletter.</p>\n<p>And don't forget to watch/listen to our tech podcast show episodes, where <strong>we publish new episodes biweekly</strong>, and help us like, comment and subscribe on these platforms too:</p>\n<h3 id=\"heading-watch\">‚ñ∂Ô∏èWatch</h3>\n<ul>\n<li>YouTube: <a target=\"_blank\" href=\"https://www.youtube.com/@ragTechDev/videos\">https://www.youtube.com/@ragTechDev/videos</a></li>\n</ul>\n<h3 id=\"heading-listen\">üé∂Listen</h3>\n<ul>\n<li><p>Spotify: <a target=\"_blank\" href=\"https://open.spotify.com/show/1KfM9JTWsDQ5QoMYEh489d?si=9aeae4945b73492b\">https://open.spotify.com/show/1KfM9JTWsDQ5QoMYEh489d?si=9aeae4945b73492b</a></p>\n</li>\n<li><p>Apple Podcasts: <a target=\"_blank\" href=\"https://podcasts.apple.com/us/podcast/ragtech/id1755966218?app=podcast\">https://podcasts.apple.com/us/podcast/ragtech/id1755966218?app=podcast</a></p>\n</li>\n<li><p>Amazon Music: <a target=\"_blank\" href=\"https://music.amazon.com/podcasts/6508100c-da09-4067-b115-b6ccacb8d67d/ragtech\">https://music.amazon.com/podcasts/6508100c-da09-4067-b115-b6ccacb8d67d/ragtech</a></p>\n</li>\n</ul>\n<h3 id=\"heading-read\">üìùRead</h3>\n<ul>\n<li>Blog: <a target=\"_blank\" href=\"https://ragtech.hashnode.dev/\">https://ragtech.hashnode.dev/</a></li>\n</ul>\n<h3 id=\"heading-stay-updated\">üì¢Stay Updated</h3>\n<ul>\n<li><p>Instagram: <a target=\"_blank\" href=\"https://www.instagram.com/ragtechdev/\">https://www.instagram.com/ragtechdev/</a></p>\n</li>\n<li><p>Tiktok: <a target=\"_blank\" href=\"https://www.tiktok.com/@ragtechdev\">https://www.tiktok.com/@ragtechdev</a></p>\n</li>\n<li><p>LinkedIn: <a target=\"_blank\" href=\"https://www.linkedin.com/company/ragtech/?viewAsMember=true\">https://www.linkedin.com/company/ragtech/?viewAsMember=true</a></p>\n</li>\n<li><p>X (Formerly Twitter): <a target=\"_blank\" href=\"https://x.com/ragtechdev\">https://x.com/ragtechdev</a></p>\n</li>\n<li><p>Website (In progress!): <a target=\"_blank\" href=\"https://ragtech.dev/\">https://ragtech.dev/</a></p>\n</li>\n</ul>\n",
    "markdown": "Hello, and welcome to ragTech's blog, where we engage in bytes and banter --- not on screen or microphone, but on text! üìù\n\nIf this is your first time seeing anything from us, we are a team of three techies, @[Victoria Lo](@victoria) , @[Natasha Ann](@natashaannn) and @[Saloni Kaur](@missa) , who came together to create a tech podcast show to talk about the realities of life in tech in a relatable and authentic manner.\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1723891696204/c537860b-1f9e-4962-8c35-2318056b65b6.png align=\"center\")\n\nOur episodes are available to watch on video on YouTube; on audio on Spotify, Apple Music and Amazon Music; and we also have our socials on Instagram, Tiktok and LinkedIn! Links are at the end of this article üíö\n\n## So... You're Creating a Website?\n\nAs part of branding review efforts that our team has embarked on, we've been wanting to create our own website for awhile now. This will help lend credibility to our brand name, and allow for a space to help friends of ragTech (yes, you!) find us, keep updated on our shenanigans, and explore our show on our various platforms and socials better.\n\nIn the spirit of sharing about everything and anything tech, we're also detailing our exact process in creating our website, just in case anybody wants to follow along! It's also great for our personal documentation purposes, so that's two birds with one stone! üê¶üê¶ü™®\n\n# üß† Our Considerations...\n\nOur main considerations in building out our website were:\n\n1. **Cheap**: Costs us practically nothing to create as we aren't earning any money and costs are out of pocket from us...\n    \n2. **Collaborative**: All three of us can work on any part of it easily, and the stack is familiar to us!\n    \n3. **Customizable and Flexible**: We can easily customize pages and functionality relevant to our tech show needs, which might have unique functionality that requires some logic. While our website right now will generally be a static site and rather simple, we want to cater for potential for it to become a little bit more complex and dynamic in the future as our community grows!\n    \n4. **Compatible**: We're already using Hashnode for our blog, and would want a stack that can easily use Hashnode's API to fetch our blog posts without needing to migrate to a new platform.\n    \n\nFor these three reasons, we've decided on the following tech stack relevant to this initial setup:\n\n* **Web Development Framework**: Next.js\n    \n* **Code Collaboration**: GitHub, with a team repository\n    \n* **Deployment**: GitHub Pages\n    \n\n## Isn't Next.js Overkill for a Static Site?\n\nNot really, with its newest release! Next.js offers both Static Site Generation (SSG) and Server-Side Rendering (SSR), which you can easily choose based on your needs.\n\nWith Static Site Generation (SSG), the page is pre-rendered during build time, before it is deployed to be seen by the world. With Server-Side Rendering (SSR), the page is pre-rendered upon each new request and updated frequently.\n\nNot only does Next.js offer both implementations, it [automatically determines if a page is static](https://nextjs.org/docs/pages/building-your-application/rendering/automatic-static-optimization) and renders and optimizes it accordingly. Within the same app, you can have some pages that implement SSG, and some pages that enable SSR - all automatically optimized by Next.js!\n\nAs mentioned above in our considerations, we want to have the flexibility to customize our website as it grows, and that includes catering for the potential for more dynamic website functionality in the future. With Next.js, we can primarily use Static Site Generation (SSG), and later on if the need calls for it, use Server-Side Rendering (SSR)!\n\n## Why GitHub Pages for Deployment?\n\nWe were initially considering Vercel, a cloud platform for static sites, for deployment instead of GitHub Pages due to its ease of integration with GitHub and Next.js (especially since the team at Vercel also created Next.js).\n\nHowever, while it is free to use for personal projects in personal repositories, we would have to purchase Vercel Pro in order to deploy our team projects.\n\nIn light of this, GitHub Pages surfaced as another option for us to consider as a free static site hosting service, since we were already using GitHub to collaborate on our code.\n\nGitHub Pages, however, is designed to serve static sites in HTML, CSS and Javascript, so we knew we would have to use some workarounds in order to deploy our Next.js application onto it.\n\nHenceforth, this walkthrough's highlight is detailing how we worked around these limitations to achieve the best of both worlds - of using a team repository for GitHub for our project, while being able to deploy our project for free on GitHub Pages!\n\n# Pre-installation Requirements\n\nThese were the pre-installation requirements we started out with. In general, it's great to start out with the latest versions for new projects, so that's what we did here. If you are following this walkthrough and do not have the same pre-install requirements, feel free to click on the links to each requirement below to find out how to set it up on your environment!\n\n* [Node](https://nodejs.org/en/download/prebuilt-installer): v20.16.0\n    \n* [npm](https://docs.npmjs.com/try-the-latest-stable-version-of-npm): 10.8.1\n    \n\n# Creating Our Next.js App\n\n## Using `create-next-app`\n\n```bash\nnpx create-next-app@latest\n```\n\nUsing [`create-next-app`](https://nextjs.org/docs/pages/api-reference/create-next-app), we first created a new Next.js application with the `npx` NPM package runner (you can use any of your choice!). For simplicity, we used mostly the default configuration, including using:\n\n* Typescript\n    \n* ESLint\n    \n* Tailwind CSS\n    \n\n## Running our Development Server\n\n```bash\nnpm run dev\n```\n\nOf course, to make sure everything is running well locally, we'll have to run it for the first time. Fortunately for us, the development server started up like a smooth engine and we were able to see the default Next.js landing page!\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1723788200332/fe931e81-5071-4949-b001-80a8f370d0ef.png align=\"center\")\n\n# Setting up GitHub Pages\n\n## Initializing a Git Repository\n\n```bash\ngit init \ngit commit -m \"chore: setup nextjs app\"\ngit branch -M main\ngit remote add origin <our origin>\ngit push -u origin main\n```\n\nAfter initializing a git repository in our new Next.js app, we went ahead to create a remote repository on our team's organizational GitHub account, added it as our origin on our local git repository, and pushed our first commit!\n\n![ragTech website remote repository on GitHub](https://cdn.hashnode.com/res/hashnode/image/upload/v1723787933545/eae22e50-21ab-424d-9925-69bc00a69998.png align=\"center\")\n\n## Setting up our Custom Domain with GitHub Pages\n\nAs we had already previously purchased our domain 'ragtech.dev' from GoDaddy, we wanted to be able to use it for this website instead of the default GitHub domain. You can skip this step if you do not have your own domain and do not mind the default domain! Otherwise, you would have to purchase your own custom domain from domain name providers like GoDaddy.\n\n### Adding our Custom Domain to Our Website Repository\n\nWe first set our deployment source to deploy from our `main` branch. This will be our production branch that deploys directly to our live site, served by GitHub Pages!\n\nNext, we started configuring our custom domain, **ragtech.dev**. In order to pass the DNS checks, we had to configure our apex domain back on GoDaddy. In our case, we [created `A` and `AAAA` records that point back to GitHub Pages' IP addresses](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/managing-a-custom-domain-for-your-github-pages-site#configuring-an-apex-domain).\n\nAfter doing so, our DNS check was successful and we were able to enforce HTTPS on our site!\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1723790281607/c5646b31-d448-4804-b5e9-f4d66c4b430b.png align=\"center\")\n\n### Verifying our Domain Name (Optional)\n\nTo [verify our domain](https://docs.github.com/en/organizations/managing-organization-settings/verifying-or-approving-a-domain-for-your-organization) on GitHub Pages and eventually have a 'Verified' badge beside our website link on our GitHub organization repository home page, we had to go to our GitHub organizational account home page, and go to *Settings &gt; Pages &gt; Add a Verified Domain*.\n\nFrom there, we were prompted to setup our DNS configuration on GoDaddy so that our domain provider would recognize the GitHub Pages hostname for our site so that GitHub could verify that we owned the domain.\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1723789125532/6cad5863-ad8a-4848-9db0-3ab117e312d1.png align=\"center\")\n\n# Configuring GitHub Pages to Deploy Next.js App\n\nRight now, as GitHub Pages is designed to only serve static files (i.e. HTML, CSS, JavaScript), our site is only showing our README file when you navigate to the configured custom domain.\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1723791489174/ce461ef4-0532-4c97-871f-a676697b4aac.png align=\"center\")\n\n## Configure Next.js Build Process for GitHub Pages\n\n[Following this tutorial](https://www.freecodecamp.org/news/how-to-deploy-next-js-app-to-github-pages/), we overcame this limitation by configuring our Next.js app to generate static pages so that the build output will export static pages instead of a Node.js app.\n\nNavigating to our `next.config.mjs` file in the root directory of our Next.js app, we changed the configuration output to export static pages.\n\n```javascript\n//next.config.mjs or\n/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  basePath: \"/ragtech-website\",\n  output: \"export\",  // <=== enables static exports\n  reactStrictMode: true,\n};\n\nexport default nextConfig;\n```\n\nAfter making this change, a folder directory named `out` will be exported on building the application, containing all the static assets in our app, which will be used to upload onto GitHub Pages.\n\nWe also added a default base path to fix any issues with missing images that might surface on the site, due to GitHub Pages' way of publishing images and their subpaths in relation to the name of our repository.\n\n## Using GitHub Actions to Deploy our Next.js App\n\nGoing back to our GitHub Pages settings in our repository, we selected GitHub Actions to customize our build process for deployment instead of the standard GitHub Pages deployment, which as mentioned, only serves static pages.\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1723792465206/0caeef16-df26-454b-a989-c81799c9bfae.png align=\"center\")\n\nOn selecting GitHub Actions, we were immediately presented with the Next.js suggested workflow, which is a pre-written GitHub Actions workflow designed for Next.js deployment to GitHub Pages written by the team at GitHub Pages themselves!\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1723792483526/fec592c9-d5e1-48c7-a926-c0e2d1291731.png align=\"center\")\n\nAs can be seen in the code snippet below, the pre-written workflow contains steps to:\n\n1. Checkout the `main` branch\n    \n2. Detect the package manager\n    \n3. Setup Node\n    \n4. Setup Pages\n    \n5. Restore Cache\n    \n6. Install dependencies\n    \n7. Build with Next.js\n    \n8. Deploy to GitHub Pages\n    \n\n```yaml\n# Sample workflow for building and deploying a Next.js site to GitHub Pages\n#\n# To get started with Next.js see: https://nextjs.org/docs/getting-started\n#\nname: Deploy Next.js site to Pages\n\non:\n  # Runs on pushes targeting the default branch\n  push:\n    branches: [\"main\"]\n\n  # Allows you to run this workflow manually from the Actions tab\n  workflow_dispatch:\n\n# Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages\npermissions:\n  contents: read\n  pages: write\n  id-token: write\n\n# Allow only one concurrent deployment, skipping runs queued between the run in-progress and latest queued.\n# However, do NOT cancel in-progress runs as we want to allow these production deployments to complete.\nconcurrency:\n  group: \"pages\"\n  cancel-in-progress: false\n\njobs:\n  # Build job\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n      - name: Detect package manager\n        id: detect-package-manager\n        run: |\n          if [ -f \"${{ github.workspace }}/yarn.lock\" ]; then\n            echo \"manager=yarn\" >> $GITHUB_OUTPUT\n            echo \"command=install\" >> $GITHUB_OUTPUT\n            echo \"runner=yarn\" >> $GITHUB_OUTPUT\n            exit 0\n          elif [ -f \"${{ github.workspace }}/package.json\" ]; then\n            echo \"manager=npm\" >> $GITHUB_OUTPUT\n            echo \"command=ci\" >> $GITHUB_OUTPUT\n            echo \"runner=npx --no-install\" >> $GITHUB_OUTPUT\n            exit 0\n          else\n            echo \"Unable to determine package manager\"\n            exit 1\n          fi\n      - name: Setup Node\n        uses: actions/setup-node@v4\n        with:\n          node-version: \"20\"\n          cache: ${{ steps.detect-package-manager.outputs.manager }}\n      - name: Setup Pages\n        uses: actions/configure-pages@v5\n        with:\n          # Automatically inject basePath in your Next.js configuration file and disable\n          # server side image optimization (https://nextjs.org/docs/api-reference/next/image#unoptimized).\n          #\n          # You may remove this line if you want to manage the configuration yourself.\n          static_site_generator: next\n      - name: Restore cache\n        uses: actions/cache@v4\n        with:\n          path: |\n            .next/cache\n          # Generate a new cache whenever packages or source files change.\n          key: ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json', '**/yarn.lock') }}-${{ hashFiles('**.[jt]s', '**.[jt]sx') }}\n          # If source files changed but packages didn't, rebuild from a prior cache.\n          restore-keys: |\n            ${{ runner.os }}-nextjs-${{ hashFiles('**/package-lock.json', '**/yarn.lock') }}-\n      - name: Install dependencies\n        run: ${{ steps.detect-package-manager.outputs.manager }} ${{ steps.detect-package-manager.outputs.command }}\n      - name: Build with Next.js\n        run: ${{ steps.detect-package-manager.outputs.runner }} next build\n      - name: Upload artifact\n        uses: actions/upload-pages-artifact@v3\n        with:\n          path: ./out\n\n  # Deployment job\n  deploy:\n    environment:\n      name: github-pages\n      url: ${{ steps.deployment.outputs.page_url }}\n    runs-on: ubuntu-latest\n    needs: build\n    steps:\n      - name: Deploy to GitHub Pages\n        id: deployment\n        uses: actions/deploy-pages@v4\n```\n\nOnce we commit this new workflow file to our GitHub repository, this will automatically trigger the new workflow to run in GitHub actions (since the workflow file was written to trigger on any committed changes on our `main` branch).\n\nAfter waiting for the build and deploy steps to run, our Next.js app was successfully deployed using GitHub Pages!\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1723793768849/1131ae9d-a531-4a87-9875-6d35f5163015.png align=\"center\")\n\nOn navigation to our custom domain, we could now see the same Next.js landing page that we saw on our local development server!\n\n![](https://cdn.hashnode.com/res/hashnode/image/upload/v1723793789766/950d32b0-5ffd-43d6-b7ac-ffe810ad1fab.png align=\"center\")\n\n# Conclusion\n\nThat concludes the first part of the setup process of creating our ragTech website! In the following parts, we'll be slowly building out the various features in our website in our Next.js app, including integrating our existing Hashnode blog into our website, having an RSS feed of our audio podcast on our website, and showcasing our YouTube episodes.\n\nIf you enjoyed this walkthrough, do like and comment on this blogpost and subscribe to our blog and newsletter.\n\nAnd don't forget to watch/listen to our tech podcast show episodes, where **we publish new episodes biweekly**, and help us like, comment and subscribe on these platforms too:\n\n### ‚ñ∂Ô∏èWatch\n\n* YouTube: [https://www.youtube.com/@ragTechDev/videos](https://www.youtube.com/@ragTechDev/videos)\n    \n\n### üé∂Listen\n\n* Spotify: [https://open.spotify.com/show/1KfM9JTWsDQ5QoMYEh489d?si=9aeae4945b73492b](https://open.spotify.com/show/1KfM9JTWsDQ5QoMYEh489d?si=9aeae4945b73492b)\n    \n* Apple Podcasts: [https://podcasts.apple.com/us/podcast/ragtech/id1755966218?app=podcast](https://podcasts.apple.com/us/podcast/ragtech/id1755966218?app=podcast)\n    \n* Amazon Music: [https://music.amazon.com/podcasts/6508100c-da09-4067-b115-b6ccacb8d67d/ragtech](https://music.amazon.com/podcasts/6508100c-da09-4067-b115-b6ccacb8d67d/ragtech)\n    \n\n### üìùRead\n\n* Blog: [https://ragtech.hashnode.dev/](https://ragtech.hashnode.dev/)\n    \n\n### üì¢Stay Updated\n\n* Instagram: [https://www.instagram.com/ragtechdev/](https://www.instagram.com/ragtechdev/)\n    \n* Tiktok: [https://www.tiktok.com/@ragtechdev](https://www.tiktok.com/@ragtechdev)\n    \n* LinkedIn: [https://www.linkedin.com/company/ragtech/?viewAsMember=true](https://www.linkedin.com/company/ragtech/?viewAsMember=true)\n    \n* X (Formerly Twitter): [https://x.com/ragtechdev](https://x.com/ragtechdev)\n    \n* Website (In progress!): [https://ragtech.dev/](https://ragtech.dev/)"
  },
  "tags": [
    {
      "name": "Next.js",
      "slug": "nextjs"
    },
    {
      "name": "github-actions",
      "slug": "github-actions-1"
    },
    {
      "name": "GitHub",
      "slug": "github"
    },
    {
      "name": "GitHubPages",
      "slug": "githubpages"
    },
    {
      "name": "Web Development",
      "slug": "web-development"
    }
  ],
  "_archived": {
    "source": "hashnode",
    "archived_date": "2026-01-20T03:54:58.980Z",
    "original_url": "https://blog.ragtechdev.com/ragtech-website-deploying-a-nextjs-app-on-github-pages-with-our-custom-domain"
  }
}